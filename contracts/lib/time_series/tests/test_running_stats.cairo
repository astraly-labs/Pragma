%lang starknet

from time_series.running_stats import new_running_stats, push, standard_deviation, mean, variance

@view
func test_push{range_check_ptr}():
    alloc_locals
    let (r) = new_running_stats()
    let (r) = push(r, 343)
    let (r) = push(r, 402)
    let (r) = push(r, 361)
    let (r) = push(r, 309)
    let (r) = push(r, 444)
    let (r) = push(r, 408)
    let (r) = push(r, 201)
    let (r) = push(r, 448)
    let (r) = push(r, 344)
    let (r) = push(r, 178)
    let (r) = push(r, 354)
    let (r) = push(r, 394)
    let (r) = push(r, 309)
    let (r) = push(r, 116)
    let (r) = push(r, 383)
    let (r) = push(r, 197)
    let (r) = push(r, 103)
    let (r) = push(r, 264)
    let (r) = push(r, 332)
    let (r) = push(r, 422)
    let (r) = push(r, 345)
    let (r) = push(r, 198)
    let (r) = push(r, 156)
    let (r) = push(r, 310)
    let (r) = push(r, 189)
    let (r) = push(r, 395)
    let (r) = push(r, 162)
    let (r) = push(r, 186)
    let (r) = push(r, 358)
    let (r) = push(r, 249)
    let (r) = push(r, 483)
    let (r) = push(r, 422)
    let (r) = push(r, 456)
    let (r) = push(r, 293)
    let (r) = push(r, 257)
    let (r) = push(r, 449)
    let (r) = push(r, 327)
    let (r) = push(r, 177)
    let (r) = push(r, 324)
    let (r) = push(r, 432)
    let (r) = push(r, 161)
    let (r) = push(r, 125)
    let (r) = push(r, 260)
    let (r) = push(r, 183)
    let (r) = push(r, 121)
    let (r) = push(r, 283)
    let (r) = push(r, 153)
    let (r) = push(r, 119)
    let (r) = push(r, 409)
    let (r) = push(r, 488)
    let (r) = push(r, 259)
    let (r) = push(r, 322)
    let (r) = push(r, 383)
    let (r) = push(r, 408)
    let (r) = push(r, 459)
    let (r) = push(r, 352)
    let (r) = push(r, 434)
    let (r) = push(r, 442)
    let (r) = push(r, 380)
    let (r) = push(r, 353)
    let (r) = push(r, 433)
    let (r) = push(r, 192)
    let (r) = push(r, 317)
    let (r) = push(r, 409)
    let (r) = push(r, 449)
    let (r) = push(r, 194)
    let (r) = push(r, 375)
    let (r) = push(r, 197)
    let (r) = push(r, 460)
    let (r) = push(r, 456)
    let (r) = push(r, 477)
    let (r) = push(r, 112)
    let (r) = push(r, 215)
    let (r) = push(r, 305)
    let (r) = push(r, 348)
    let (r) = push(r, 208)
    let (r) = push(r, 254)
    let (r) = push(r, 112)
    let (r) = push(r, 108)
    let (r) = push(r, 193)
    let (r) = push(r, 114)
    let (r) = push(r, 261)
    let (r) = push(r, 141)
    let (r) = push(r, 301)
    let (r) = push(r, 457)
    let (r) = push(r, 459)
    let (r) = push(r, 296)
    let (r) = push(r, 257)
    let (r) = push(r, 368)
    let (r) = push(r, 475)
    let (r) = push(r, 496)
    let (r) = push(r, 436)
    let (r) = push(r, 400)
    let (r) = push(r, 292)
    let (r) = push(r, 288)
    let (r) = push(r, 292)
    let (r) = push(r, 188)
    let (r) = push(r, 145)
    let (r) = push(r, 423)
    let (r) = push(r, 189)
    let (mean_, r) = mean(r)
    let (variance_, r) = variance(r)
    let (std_, r) = standard_deviation(r)

    assert mean_ = 306
    assert variance_ = 13376
    assert std_ = 115

    return ()
end
